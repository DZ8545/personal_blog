import{q as B}from"./el-button.0759af9c.js";import{E,a as g}from"./el-form-item.9413448b.js";/* empty css                 */import{d as v,r as c,z as y,o as C,c as h,A as w,X as D,k as t,B as o,C as V}from"./index.509da95d.js";import{i as s,E as u,a as x}from"./request.5e4a5c1f.js";const k={class:"edit"},b=V("\u4FDD\u5B58"),q=v({__name:"CategoryEdit",props:["id"],setup(l){const a=l,e=c({name:""});c([]),y();const m=async()=>{e.value.name?(a.id?(await s.put(`/categories/${a.id}`,e.value),u({showClose:!0,message:"\u4FEE\u6539\u6210\u529F!",type:"success"})):(await s.post("/categories",e.value),u({showClose:!0,message:"\u4FDD\u5B58\u6210\u529F!",type:"success"})),e.value.name=""):u.error("\u8BF7\u586B\u5165\u5185\u5BB9\uFF01\uFF01\uFF01")};async function d(){const n=await s.get(`/categories/${a.id}`);e.value=n.data}return a.id&&d(),(n,r)=>{const p=x,i=E,_=B,f=g;return C(),h("div",k,[w("h2",null,D(l.id?"\u7F16\u8F91":"\u521B\u5EFA")+"\u5206\u7C7B",1),t(f,{"label-width":"120px"},{default:o(()=>[t(i,{label:"\u540D\u79F0"},{default:o(()=>[t(p,{size:"large",modelValue:e.value.name,"onUpdate:modelValue":r[0]||(r[0]=F=>e.value.name=F)},null,8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(_,{type:"primary",onClick:m},{default:o(()=>[b]),_:1})]),_:1})]),_:1})])}}});export{q as default};
